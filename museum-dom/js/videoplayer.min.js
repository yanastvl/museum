function videoPlayer(){let t,o;const d=()=>{muteBtn.classList.toggle("muted"),video.muted?video.muted=!1:video.muted=!0},e=e=>`
  linear-gradient(to right, #710707 0%, #710707 ${e}%, #c4c4c4 ${e}%, #c4c4c4 100%)`,i=e=>{overlay.innerHTML=e,overlay.classList.remove("hidden"),clearTimeout(t),t=setTimeout(()=>overlay.classList.add("hidden"),1e3)};document.addEventListener("click",e=>{switch(e.target.id){case"video":case"playBtnBig":case"playBtn":video.paused?video.play():video.pause();break;case"muteBtn":d();break;case"fullscreenBtn":return document.fullscreenElement?document.exitFullscreen():player.requestFullscreen()}}),video.addEventListener("dblclick",()=>document.fullscreenElement?document.exitFullscreen():player.requestFullscreen()),player.addEventListener("keyup",e=>{switch(e.code){case"Space":case"KeyK":return video.paused?video.play():video.pause();case"KeyM":d();break;case"KeyF":return document.fullscreenElement?document.exitFullscreen():player.requestFullscreen()}0<=e.key&&"Space"!==e.code&&(video.currentTime=e.key*video.duration/10),e.shiftKey&&"Period"===e.code&&(2===video.playbackRate?video.playbackRate=2:video.playbackRate+=.25),e.shiftKey&&"Comma"===e.code&&(.25===video.playbackRate?video.playbackRate=.25:video.playbackRate-=.25)}),player.addEventListener("keydown",e=>{switch(document.fullscreenElement&&(player.style.cursor="default",controls.style.opacity=1,clearTimeout(o),o=setTimeout(()=>{player.style.cursor="none",controls.style.opacity=0},3e3)),e.code){case"Space":return e.preventDefault();case"ArrowUp":"progress"!==document.activeElement.id&&(video.muted?(video.muted=!1,video.volume=.05):.95<video.volume?video.volume=1:video.volume+=.05);break;case"ArrowDown":"progress"!==document.activeElement.id&&(video.muted||(video.volume<.05?video.volume=0:video.volume-=.05));break;case"ArrowLeft":"progress"!==document.activeElement.id&&(5<video.currentTime?video.currentTime-=5:video.currentTime=0,i("<< 5 sec"));break;case"ArrowRight":"progress"!==document.activeElement.id&&(video.currentTime<video.duration-5?video.currentTime+=5:video.currentTime=video.duration,i(">> 5 sec"));break;case"KeyJ":10<video.currentTime?video.currentTime-=10:video.currentTime=0,i("<< 10 sec");break;case"KeyL":video.currentTime<video.duration-10?video.currentTime+=10:video.currentTime=video.duration,i(">> 10 sec");break;case"Period":video.paused&&!e.shiftKey&&(video.currentTime+=.17,i(">>"));break;case"Comma":video.paused&&!e.shiftKey&&(video.currentTime-=.17,i("<<"))}}),video.addEventListener("play",()=>{playBtn.className="play pause",playBtnBig.className="big-play hidden"}),video.addEventListener("pause",()=>{playBtn.className="play",playBtnBig.className="big-play"}),video.addEventListener("timeupdate",()=>{isNaN(video.duration)||(progress.value=100*video.currentTime/video.duration,progress.style.background=e(progress.value))}),video.addEventListener("ratechange",()=>i(`${video.playbackRate}x`)),progress.addEventListener("input",()=>{video.currentTime=progress.value*video.duration/100}),vol.addEventListener("input",()=>{video.muted?(video.muted=!1,video.volume=.05):video.volume=vol.value/100});const a=e=>{let t=100*video.volume;e.deltaY<0&&!video.muted?t+=5:e.deltaY<0&&video.muted?(video.muted=!1,t=5):0<e.deltaY&&!video.muted&&(t-=5),t<0?video.volume=0:100<t?video.volume=1:video.volume=t/100};document.addEventListener("fullscreenchange",e=>{document.fullscreenElement?player.addEventListener("wheel",a):player.removeEventListener("wheel",a)}),video.addEventListener("volumechange",()=>{video.muted?(i("muted"),vol.style.background=e(0),vol.value=0):(i(`ðŸ”Š ${Math.floor(100*video.volume)}%`),vol.style.background=e(100*video.volume),vol.value=100*video.volume,video.volume<.5&&!muteBtn.classList.contains("vol50")?muteBtn.classList.add("vol50"):.5<=video.volume&&muteBtn.classList.contains("vol50")&&muteBtn.classList.remove("vol50")),0===video.volume||video.muted?muteBtn.classList.add("muted"):muteBtn.classList.remove("muted")}),document.addEventListener("mousemove",()=>{document.fullscreenElement&&(player.style.cursor="default",controls.style.opacity=1,clearTimeout(o),o=setTimeout(()=>{player.style.cursor="none",controls.style.opacity=0},3e3))}),document.addEventListener("fullscreenchange",()=>{document.fullscreenElement||(clearTimeout(o),player.style.cursor="default",controls.style.opacity=1)})}export{videoPlayer};