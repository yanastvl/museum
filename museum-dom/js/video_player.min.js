function videoPlayer(){window.addEventListener("keydown",function(e){32==e.keyCode&&e.target==document.body&&e.preventDefault()});let o,t;const d=()=>{muteBtn.classList.toggle("muted"),video.muted?video.muted=!1:video.muted=!0},i=e=>`
  linear-gradient(to right, #710707 0%, #710707 ${e}%, #c4c4c4 ${e}%, #c4c4c4 100%)`,a=e=>{overlay.innerHTML=e,overlay.classList.remove("hidden"),clearTimeout(o),o=setTimeout(()=>overlay.classList.add("hidden"),1e3)};document.addEventListener("click",e=>{switch(e.target.id){case"video":case"playBtnBig":case"playBtn":video.paused?video.play():video.pause();break;case"muteBtn":d();break;case"fullscreenBtn":return document.fullscreenElement?document.exitFullscreen():player.requestFullscreen()}}),video.addEventListener("dblclick",()=>document.fullscreenElement?document.exitFullscreen():player.requestFullscreen()),document.addEventListener("keyup",e=>{if(2800<scrollY&&scrollY<4200){switch(e.code){case"Space":case"KeyK":return video.paused?video.play():video.pause();case"KeyM":d();break;case"KeyF":return document.fullscreenElement?document.exitFullscreen():player.requestFullscreen()}0<=e.key&&"Space"!==e.code&&(video.currentTime=e.key*video.duration/10),e.shiftKey&&"Period"===e.code&&(2===video.playbackRate?video.playbackRate=2:video.playbackRate+=.25),e.shiftKey&&"Comma"===e.code&&(.25===video.playbackRate?video.playbackRate=.25:video.playbackRate-=.25)}}),player.addEventListener("keydown",e=>{switch(document.fullscreenElement&&(player.style.cursor="default",controls.style.opacity=1,clearTimeout(t),t=setTimeout(()=>{player.style.cursor="none",controls.style.opacity=0},3e3)),e.code){case"Space":return e.preventDefault();case"ArrowUp":"progress"!==document.activeElement.id&&(video.muted?(video.muted=!1,video.volume=.05):.95<video.volume?video.volume=1:video.volume+=.05);break;case"ArrowDown":"progress"!==document.activeElement.id&&(video.muted||(video.volume<.05?video.volume=0:video.volume-=.05));break;case"ArrowLeft":"progress"!==document.activeElement.id&&(5<video.currentTime?video.currentTime-=5:video.currentTime=0,a("<< 5 sec"));break;case"ArrowRight":"progress"!==document.activeElement.id&&(video.currentTime<video.duration-5?video.currentTime+=5:video.currentTime=video.duration,a(">> 5 sec"));break;case"KeyJ":10<video.currentTime?video.currentTime-=10:video.currentTime=0,a("<< 10 sec");break;case"KeyL":video.currentTime<video.duration-10?video.currentTime+=10:video.currentTime=video.duration,a(">> 10 sec");break;case"Period":video.paused&&!e.shiftKey&&(video.currentTime+=.17,a(">>"));break;case"Comma":video.paused&&!e.shiftKey&&(video.currentTime-=.17,a("<<"))}}),video.addEventListener("play",()=>{playBtn.className="play pause",playBtnBig.className="player__btn hidden"}),video.addEventListener("pause",()=>{playBtn.className="play",playBtnBig.className="player__btn"}),video.addEventListener("timeupdate",()=>{isNaN(video.duration)||(progress.value=100*video.currentTime/video.duration,progress.style.background=i(progress.value))}),video.addEventListener("ratechange",()=>a(`${video.playbackRate}x`)),progress.addEventListener("input",()=>{video.currentTime=progress.value*video.duration/100}),vol.addEventListener("input",()=>{video.muted?(video.muted=!1,video.volume=.05):video.volume=vol.value/100});const r=e=>{let o=100*video.volume;e.deltaY<0&&!video.muted?o+=5:e.deltaY<0&&video.muted?(video.muted=!1,o=5):0<e.deltaY&&!video.muted&&(o-=5),o<0?video.volume=0:100<o?video.volume=1:video.volume=o/100};document.addEventListener("fullscreenchange",e=>{document.fullscreenElement?player.addEventListener("wheel",r):player.removeEventListener("wheel",r)}),video.addEventListener("volumechange",()=>{video.muted?(a("muted"),vol.style.background=i(0),vol.value=0):(a(`ðŸ”Š ${Math.floor(100*video.volume)}%`),vol.style.background=i(100*video.volume),vol.value=100*video.volume,video.volume<.5&&!muteBtn.classList.contains("vol50")?muteBtn.classList.add("vol50"):.5<=video.volume&&muteBtn.classList.contains("vol50")&&muteBtn.classList.remove("vol50")),0===video.volume||video.muted?muteBtn.classList.add("muted"):muteBtn.classList.remove("muted")}),document.addEventListener("mousemove",()=>{document.fullscreenElement&&(player.style.cursor="default",controls.style.opacity=1,clearTimeout(t),t=setTimeout(()=>{player.style.cursor="none",controls.style.opacity=0},3e3))}),document.addEventListener("fullscreenchange",()=>{document.fullscreenElement||(clearTimeout(t),player.style.cursor="default",controls.style.opacity=1)}),$(".video__slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,autoplay:!1,variableWidth:!0,lazyload:!0,mouseDrag:!0,dots:!0,appendDots:$(".panel__circle--nav"),prevArrow:$(".arrowVideo--left "),nextArrow:$(".arrowVideo--right")}),$(".video__slider").on("afterChange",function(e,o,t,d){console.log(e,o,t);video.src="assets/video/video"+t+".mp4",video.poster="assets/img/video/poster"+t+".jpg",progress.value=0,progress.style.background=i(progress.value),playBtn.className="play",playBtnBig.className="player__btn",$(".video__youtube").each(function(){this.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")})})}export{videoPlayer};