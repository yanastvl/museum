import{imageComparison}from"./explore.js";import{shuffleGallery}from"./gallery.js";import{calcTotalPrice,fillTicketFormModal,calcTotalPriceModal}from"./ticket_calculator.js";import{initMap}from"./map.js";import{initDateModal,updateDateTime}from"./date_modal.js";import{videoPlayer}from"./video_player.js";$(document).ready(function(n){var t=JSON.parse(localStorage.getItem("bookingTickets"));if(t){document.getElementById("totalPrice").innerHTML=t.totalPrice,document.getElementById("basicTicketsNum").value=t.basicTicketsNum,document.getElementById("seniorTicketsNum").value=t.seniorTicketsNum;let e=document.getElementById(t.ticketType);e.checked=!0}function o(){n(".menu-btn").removeClass("menu_btn_rotate"),n(".menu__items").removeClass("menu__toggle"),n(".welcome__info").removeClass("hidden")}n("#modalButton").click(function(){fillTicketFormModal(),n("#modalWindow").toggleClass("form__active")}),n(".booking__close").click(function(){n(this).parents("#modalWindow").toggleClass("form__active")}),n(document).keydown(function(e){27===e.keyCode&&(e.stopPropagation(),n("#modalWindow").removeClass("form__active"))}),n(".booking__wrapper").click(function(e){0==n(e.target).closest(".booking").length&&n(this).toggleClass("form__active")}),n(".menu-btn").click(function(){n(".menu-btn").toggleClass("menu_btn_rotate"),n(".menu__items").toggleClass("menu__toggle"),n(".welcome__info").toggleClass("hidden")}),n(".menu__link").click(function(){o()}),n(document).click(function(e){e=n(e.target);e.closest(".menu__items").length||e.closest(".header__row").length||!n(".menu__items").is(":visible")||o()}),n(document).keydown(function(e){27===e.keyCode&&(e.stopPropagation(),o())}),n(".ticket__button").click(function(){calcTotalPrice()}),n(".tickets__radio").click(function(){calcTotalPrice(n(this).attr("value"))}),n(".entry__input").click(function(){calcTotalPriceModal()}),n("#ticketTypeSelector").change(function(){calcTotalPriceModal(n(this).attr("value"))}),initMap(),initDateModal(),n("#dateInput").change(function(){updateDateTime(this.value,null)}),n("#timeInput").change(function(){updateDateTime(null,this.value)}),n(".welcome__slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!1,lazyload:!0,mouseDrag:!0,dots:!0,appendDots:n("#welcomeSliderControls"),prevArrow:n(".arr-left"),nextArrow:n(".arr-right")}),n(".welcome__slider").on("afterChange",function(e,t,o){n("#currentWelcomeSlide").html("0"+(o+1))});const i=document.getElementById("inputName"),l=document.querySelector("#inputName + span.error"),a=document.getElementById("inputEmail"),c=document.querySelector("#inputEmail + span.error");function r(e,t,o){t.textContent=o,t.className="error active",e.classList.add("invalid__input")}function s(e,t){e.classList.remove("invalid__input"),t.textContent="",t.className="error"}i.addEventListener("change",()=>{var e;i.value.length<3?(e=`Имя должно содержать минимум ${i.minLength} символа, вы ввели ${i.value.length}.`,r(i,l,e)):s(i,l)}),n("#inputName").keypress(function(e){let t=new RegExp("^[a-zA-Zа-яА-ЯЁёs\n ]");var o=String.fromCharCode(e.charCode||e.which);if(t.test(o)||13==e.keyCode)return s(i,l),!0;o=`Символ "${o}" нельзя ввести в это поле`;return r(i,l,o),!1}),a.addEventListener("change",()=>{let e=a.value.split("@");var t=null;if(2!=e.length)return r(a,c,"Email должен содержать @"),!1;var o=e[1].split(".");/^[a-zA-Z0-9)\(._-]+$/g.test(e[0])?e[0].length<3||15<e[0].length?t="Имя имеет недопустимую длину (от 3 до 15 символов)":/^[a-zA-Z]+$/g.test(o[0])?o[0].length<4?t="Домен первого уровня должен содержать не менее 4 символов":(!/^[a-zA-Z]+$/g.test(o[1])||o[1].length<2)&&(t="Домен второго уровня должен состоять минимум из 2 латинских букв"):t="Домен первого уровня должен содержать только латинские буквы":t="Имя содержит недопустимые символы",t?r(a,c,t):s(a,c)}),inputPhone.addEventListener("change",()=>{var e=inputPhone.value.replaceAll("-","").replaceAll(" ","");/^[0-9)\( -]+$/g.test(inputPhone.value)?10<e.length?r(inputPhone,inputPhoneError,"Номер телефона не должен содержать больше 10 цифр"):s(inputPhone,inputPhoneError):r(inputPhone,inputPhoneError,"Номер телефона может содержать только цифры, дефис и пробел")});var e=n("#buttonUp");n(window).scroll(function(){300<n(window).scrollTop()?e.addClass("show"):e.removeClass("show")}),e.on("click",function(e){e.preventDefault(),n("html, body").animate({scrollTop:0},"300")}),n("#dateInput").click(function(){n(".date__img-before").css("display","none"),n(".input__modal--date").css("padding","13px 15px 12px 19px")}),videoPlayer(),console.log(`
Слайдер в секции Welcome +24 :

Слайдер в секции Video (в слайдах - видео с YouTube) +19:
Не полностью реализовано:
если видео с YouTube проигрывается, клик по кнопке Pause останавливает его проигрывание. Также проигрывание видео останавливается, если кликнуть по другому слайду или кнопке Play в центре другого слайда. В указанной ситуации другое видео должно запуститься, а текущее остановиться. Невозможно проигрывание нескольких YouTube видео одновременно +1б;

Кастомный видеоплеер, созданный на основе тега video +36;
Слайдер сравнения изображений в секции Explore +10;
Анимация при прокрутке изображений в секции Galery +8;
Калькулятор продажи билетов в секции Tiskets +10;
Калькулятор продажи билетов в форме продажи билетов +14;
Валидация формы +16;
Интерактивная карта в секции Contacts +12;

Добавлена кнопка прокрутки страницы вверх +3б;
Общий балл : 152б.

Уважаемые проверяющие! Работа проверяется только на разрешении 1920рх. Проверка проводилась в соответствии с видео с примером кросс-чека https://youtu.be/8bU5PTaA0WQ.
Если по работе какие-то вопросы или проблемы, прошу писать мне 
в yanastvl#9391.
`)});